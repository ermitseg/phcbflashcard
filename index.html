<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PTCB Drug Flashcards â€“ Detailed</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- PWA bits (for install as app) -->
  <meta name="theme-color" content="#0f172a" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="icon-192.png" />

  <style>
    :root {
      --bg: #020617;
      --card-bg: #0f172a;
      --accent: #22c55e;
      --accent-soft: rgba(34, 197, 94, 0.15);
      --text-main: #f9fafb;
      --text-muted: #9ca3af;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top, #1e293b 0, #020617 60%);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
    }

    .app {
      width: 100%;
      max-width: 480px;
      background: rgba(15, 23, 42, 0.96);
      border-radius: 1.5rem;
      border: 1px solid rgba(148, 163, 184, 0.5);
      box-shadow:
        0 24px 60px rgba(15, 23, 42, 0.9),
        0 0 0 1px rgba(148, 163, 184, 0.1);
      padding: 1.5rem 1.3rem 1.6rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .title-row {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 0.5rem;
    }

    h1 {
      font-size: 1.25rem;
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    .pill {
      font-size: 0.7rem;
      padding: 0.18rem 0.55rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: var(--text-muted);
    }

    .subtitle {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .card {
      margin-top: 0.3rem;
      flex: 1;
      min-height: 230px;
      background: radial-gradient(circle at top left, var(--accent-soft) 0, #020617 65%);
      border-radius: 1.3rem;
      border: 1px solid rgba(148, 163, 184, 0.8);
      padding: 1.1rem 1.1rem 1rem;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      cursor: pointer;
      box-shadow:
        0 18px 40px rgba(15, 23, 42, 0.9),
        0 0 0 1px rgba(148, 163, 184, 0.18);
      transition: transform 0.15s ease;
    }

    .card:active {
      transform: translateY(1px) scale(0.99);
    }

    .row-top {
      display: flex;
      justify-content: space-between;
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .chip {
      padding: 0.1rem 0.55rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      text-transform: uppercase;
      letter-spacing: 0.09em;
    }

    .chip-accent {
      border-color: rgba(34, 197, 94, 0.8);
      background: rgba(34, 197, 94, 0.18);
      color: #bbf7d0;
    }

    .side-label {
      opacity: 0.8;
    }

    .drug-main {
      margin-top: 0.65rem;
    }

    .heading {
      font-size: 0.95rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-muted);
      margin-bottom: 0.3rem;
    }

    #brand, #generic {
      font-size: 1.4rem;
      font-weight: 600;
    }

    #generic {
      font-size: 1.25rem;
    }

    .line {
      margin-top: 0.4rem;
      font-size: 0.9rem;
      color: var(--text-main);
    }

    .muted {
      color: var(--text-muted);
      font-size: 0.78rem;
    }

    .footer-card {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-top: 0.6rem;
    }

    .buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      justify-content: space-between;
      margin-top: 0.2rem;
    }

    button {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.95);
      color: var(--text-main);
      padding: 0.45rem 0.9rem;
      font-size: 0.85rem;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      cursor: pointer;
      transition:
        background 0.15s ease,
        transform 0.1s ease,
        box-shadow 0.15s ease;
    }

    button:hover {
      background: rgba(15, 23, 42, 1);
      box-shadow: 0 0 0 1px rgba(148, 163, 184, 0.4);
    }

    button:active {
      transform: translateY(1px) scale(0.99);
      box-shadow: none;
    }

    .primary {
      border-color: rgba(34, 197, 94, 0.9);
      background: linear-gradient(135deg, #22c55e, #4ade80);
      color: #022c22;
      font-weight: 600;
      box-shadow: 0 0 18px rgba(34, 197, 94, 0.4);
    }

    .primary:hover {
      box-shadow: 0 0 22px rgba(34, 197, 94, 0.55);
    }

    .meta-row {
      display: flex;
      justify-content: space-between;
      font-size: 0.75rem;
      margin-top: 0.1rem;
      color: var(--text-muted);
    }

    @media (max-width: 480px) {
      .app {
        padding: 1.2rem 1rem 1.3rem;
      }
      #brand, #generic {
        font-size: 1.3rem;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="title-row">
      <h1>PTCB Drug Flashcards</h1>
      <span class="pill">Detailed Â· Abbreviations explained</span>
    </div>
    <p class="subtitle">Tap to flip Â· Front = brand and generic Â· Back = use + safety note with abbreviations written out.</p>

    <div class="card" id="card">
      <div class="row-top">
        <span class="chip chip-accent" id="categoryChip">Category</span>
        <span class="side-label" id="sideLabel">Front Â· Brand</span>
      </div>

      <div class="drug-main">
        <div class="heading" id="mainLabel">Brand</div>
        <div id="brand">Loadingâ€¦</div>

        <div class="line" id="extraLine"></div>
      </div>

      <div class="footer-card">
        <span class="muted" id="hintText">Tap to flip âŸ²</span>
        <span id="indexText">0 / 0</span>
      </div>
    </div>

    <div class="buttons">
      <button id="prevBtn" type="button">â—€ Prev</button>
      <button id="flipBtn" type="button">âŸ² Flip</button>
      <button id="nextBtn" type="button" class="primary">Next â–¶</button>
      <button id="randomBtn" type="button">ðŸŽ² Random</button>
    </div>

    <div class="meta-row">
      <span>Side: <span id="sideStatus">Brand</span></span>
      <span>Cards: <span id="countStatus">0</span></span>
    </div>
  </div>

  <script>
    // 50 key PTCB drugs â€“ detailed explanations, abbreviations expanded
    const cards = [
      // STATINS / LIPID LOWERING
      {
        brand: "Lipitor",
        generic: "Atorvastatin",
        category: "Statin (cholesterol-lowering)",
        use: "Lowers high cholesterol and triglycerides to reduce risk of heart attack and stroke by blocking cholesterol production in the liver.",
        hint: "Statin = cholesterol medicine; monitor for muscle pain or liver problems."
      },
      {
        brand: "Crestor",
        generic: "Rosuvastatin",
        category: "Statin (cholesterol-lowering)",
        use: "Treats high cholesterol and helps prevent heart and blood vessel disease by lowering low-density lipoprotein (LDL) cholesterol.",
        hint: "Take once daily; report unexplained muscle pain, weakness, or dark urine."
      },
      {
        brand: "Zocor",
        generic: "Simvastatin",
        category: "Statin (cholesterol-lowering)",
        use: "Lowers LDL cholesterol and triglycerides to protect the heart and blood vessels.",
        hint: "Avoid large amounts of grapefruit juice because it can increase side effects."
      },
      {
        brand: "Pravachol",
        generic: "Pravastatin",
        category: "Statin (cholesterol-lowering)",
        use: "Treats high cholesterol and helps prevent heart disease and stroke.",
        hint: "Usually taken at night; works in the liver where cholesterol is made."
      },
      {
        brand: "Lopid",
        generic: "Gemfibrozil",
        category: "Lipid-lowering (fibrate)",
        use: "Lowers very high triglycerides to reduce the risk of pancreatitis (inflammation of the pancreas).",
        hint: "Take 30 minutes before morning and evening meals; may be combined with a statin carefully."
      },

      // BLOOD PRESSURE â€“ BETA BLOCKERS
      {
        brand: "Tenormin",
        generic: "Atenolol",
        category: "Beta blocker (blood pressure and heart)",
        use: "Treats high blood pressure (hypertension) and chest pain from reduced blood flow to the heart (angina).",
        hint: "Beta blocker = slows heart rate and reduces workload on the heart; do not stop suddenly."
      },
      {
        brand: "Lopressor",
        generic: "Metoprolol tartrate",
        category: "Beta blocker",
        use: "Treats high blood pressure and chest pain and helps protect the heart after a heart attack.",
        hint: "Immediate-release form; usually taken twice daily with food; may cause tiredness or dizziness."
      },
      {
        brand: "Toprol XL",
        generic: "Metoprolol succinate",
        category: "Beta blocker (extended-release)",
        use: "Once-daily extended-release tablet used for high blood pressure, chest pain, and heart failure.",
        hint: "Do not crush or chew extended-release tablets; swallow whole."
      },
      {
        brand: "Inderal",
        generic: "Propranolol",
        category: "Beta blocker (non-selective)",
        use: "Treats high blood pressure, tremors, migraine prevention, and some anxiety symptoms.",
        hint: "Non-selective beta blocker = affects heart and lungs; use carefully in people with asthma."
      },

      // CALCIUM CHANNEL BLOCKERS
      {
        brand: "Norvasc",
        generic: "Amlodipine",
        category: "Calcium channel blocker",
        use: "Treats high blood pressure and chest pain by relaxing blood vessels so blood flows more easily.",
        hint: "Common side effect is ankle or leg swelling."
      },
      {
        brand: "Procardia",
        generic: "Nifedipine",
        category: "Calcium channel blocker",
        use: "Treats high blood pressure and certain types of chest pain by relaxing and widening blood vessels.",
        hint: "Do not bite or chew extended-release forms; may cause flushing or headache."
      },

      // ACE INHIBITORS
      {
        brand: "Prinivil",
        generic: "Lisinopril",
        category: "ACE inhibitor (angiotensin-converting enzyme)",
        use: "Treats high blood pressure and heart failure and protects the kidneys in diabetes by relaxing blood vessels.",
        hint: "Can cause a dry cough and high potassium; ACE = angiotensin-converting enzyme."
      },
      {
        brand: "Vasotec",
        generic: "Enalapril",
        category: "ACE inhibitor",
        use: "Used for high blood pressure and heart failure by blocking formation of angiotensin II, a substance that tightens blood vessels.",
        hint: "Watch for cough, dizziness, and swelling of face or lips (rare serious allergic reaction called angioedema)."
      },
      {
        brand: "Altace",
        generic: "Ramipril",
        category: "ACE inhibitor",
        use: "Treats high blood pressure and reduces risk of heart attack and stroke in high-risk patients.",
        hint: "May protect the kidneys; monitor blood pressure and kidney function."
      },

      // ARBs
      {
        brand: "Cozaar",
        generic: "Losartan",
        category: "Angiotensin receptor blocker (ARB)",
        use: "Treats high blood pressure and protects the kidneys in patients with type 2 diabetes and high blood pressure.",
        hint: "ARB = blocks angiotensin II from tightening blood vessels; does not usually cause cough like ACE inhibitors."
      },
      {
        brand: "Diovan",
        generic: "Valsartan",
        category: "Angiotensin receptor blocker (ARB)",
        use: "Treats high blood pressure and heart failure and improves survival after a heart attack.",
        hint: "May increase potassium; avoid salt substitutes that contain potassium unless instructed."
      },

      // DIURETICS
      {
        brand: "Lasix",
        generic: "Furosemide",
        category: "Loop diuretic (water pill)",
        use: "Removes extra fluid in conditions like heart failure, liver disease, or kidney disease to reduce swelling and shortness of breath.",
        hint: "Loop diuretic = strong water pill; can lower potassium and cause frequent urinationâ€”usually taken in the morning."
      },
      {
        brand: "Microzide",
        generic: "Hydrochlorothiazide",
        category: "Thiazide diuretic",
        use: "Treats high blood pressure and mild fluid retention by helping the kidneys remove salt and water.",
        hint: "Take in the morning to avoid nighttime urination; may lower potassium and sodium."
      },
      {
        brand: "Aldactone",
        generic: "Spironolactone",
        category: "Potassium-sparing diuretic",
        use: "Treats swelling and high blood pressure and is used in heart failure by blocking aldosterone, a hormone that causes fluid retention.",
        hint: "Potassium-sparing = can increase potassium; avoid extra potassium unless ordered."
      },

      // THYROID
      {
        brand: "Synthroid",
        generic: "Levothyroxine",
        category: "Thyroid hormone replacement",
        use: "Replaces thyroid hormone in people with low thyroid (hypothyroidism) to restore normal energy and metabolism.",
        hint: "Take on an empty stomach with water, usually 30â€“60 minutes before breakfast; do not change brand without checking with the prescriber."
      },

      // DIABETES â€“ ORAL MEDS AND INSULIN
      {
        brand: "Glucophage",
        generic: "Metformin",
        category: "Antidiabetic (biguanide)",
        use: "First-line medicine for type 2 diabetes; decreases sugar made by the liver and improves how the body uses insulin.",
        hint: "Take with food to reduce stomach upset; rarely can cause lactic acidosis, a serious buildup of lactic acid."
      },
      {
        brand: "Januvia",
        generic: "Sitagliptin",
        category: "Antidiabetic (DPP-4 inhibitor)",
        use: "Helps control blood sugar in type 2 diabetes by increasing natural hormone levels that tell the pancreas to release insulin.",
        hint: "DPP-4 = dipeptidyl peptidase-4; usually taken once daily with or without food."
      },
      {
        brand: "Amaryl",
        generic: "Glimepiride",
        category: "Antidiabetic (sulfonylurea)",
        use: "Lowers blood sugar in type 2 diabetes by stimulating the pancreas to release more insulin.",
        hint: "Can cause low blood sugar (hypoglycemia); eat regular meals and watch for sweating, shakiness, or confusion."
      },
      {
        brand: "Humalog",
        generic: "Insulin lispro",
        category: "Rapid-acting insulin",
        use: "Very rapid-acting insulin used to control blood sugar around meals in diabetes.",
        hint: "Give within about 15 minutes before or right after eating; can cause low blood sugar if food is missed."
      },
      {
        brand: "Lantus",
        generic: "Insulin glargine",
        category: "Long-acting insulin (basal)",
        use: "Provides a steady level of insulin throughout the day and night to control fasting blood sugar in diabetes.",
        hint: "Do not mix in the same syringe with other insulins; usually injected once daily at the same time each day."
      },

      // RESPIRATORY
      {
        brand: "ProAir HFA",
        generic: "Albuterol",
        category: "Short-acting beta agonist (SABA) inhaler",
        use: "Quick-relief inhaler that relaxes airway muscles to relieve sudden asthma symptoms such as wheezing and shortness of breath.",
        hint: "Rescue inhaler, not for daily control; common side effects include fast heartbeat and shakiness."
      },
      {
        brand: "Ventolin HFA",
        generic: "Albuterol",
        category: "Short-acting beta agonist (SABA) inhaler",
        use: "Provides fast relief of bronchospasm in asthma and chronic obstructive pulmonary disease (COPD).",
        hint: "Use a spacer if recommended; prime the inhaler if it has not been used for several days."
      },
      {
        brand: "Advair",
        generic: "Fluticasone and Salmeterol",
        category: "Inhaled corticosteroid and long-acting beta agonist (ICS/LABA)",
        use: "Maintenance inhaler for asthma or COPD that reduces airway inflammation and keeps airways open.",
        hint: "Not a rescue inhaler; rinse mouth and spit after use to reduce risk of oral thrush (yeast infection)."
      },
      {
        brand: "Singulair",
        generic: "Montelukast",
        category: "Leukotriene receptor blocker",
        use: "Helps control asthma and allergy symptoms by blocking leukotrienes, chemicals that cause airway swelling.",
        hint: "Usually taken once daily in the evening; not used for sudden asthma attacks."
      },

      // ANTIDEPRESSANTS
      {
        brand: "Zoloft",
        generic: "Sertraline",
        category: "SSRI antidepressant",
        use: "Treats depression, anxiety disorders, and post-traumatic stress disorder by increasing serotonin levels in the brain.",
        hint: "SSRI = selective serotonin reuptake inhibitor; may take several weeks for full effect."
      },
      {
        brand: "Prozac",
        generic: "Fluoxetine",
        category: "SSRI antidepressant",
        use: "Used for depression, obsessive-compulsive disorder, and some eating disorders.",
        hint: "Long half-life; withdrawal symptoms are less likely if a dose is missed."
      },
      {
        brand: "Lexapro",
        generic: "Escitalopram",
        category: "SSRI antidepressant",
        use: "Treats depression and generalized anxiety disorder with generally mild side effects.",
        hint: "Take once daily; watch for mood changes or thoughts of self-harm, especially when starting."
      },
      {
        brand: "Celexa",
        generic: "Citalopram",
        category: "SSRI antidepressant",
        use: "Treats depression by increasing serotonin levels.",
        hint: "Higher doses can affect heart rhythm; prescribers limit the maximum dose in many patients."
      },
      {
        brand: "Cymbalta",
        generic: "Duloxetine",
        category: "SNRI antidepressant",
        use: "Treats depression, anxiety, and certain types of nerve pain such as diabetic nerve pain.",
        hint: "SNRI = serotonin and norepinephrine reuptake inhibitor; may raise blood pressure slightly."
      },
      {
        brand: "Effexor",
        generic: "Venlafaxine",
        category: "SNRI antidepressant",
        use: "Treats depression and anxiety disorders by increasing serotonin and norepinephrine.",
        hint: "Can increase blood pressure; do not stop suddenly because withdrawal symptoms can occur."
      },

      // BENZODIAZEPINES (CONTROLLED â€“ C-IV)
      {
        brand: "Xanax",
        generic: "Alprazolam",
        category: "Benzodiazepine Â· Schedule IV controlled substance (C-IV)",
        use: "Short-term treatment of anxiety and panic attacks by slowing down the central nervous system.",
        hint: "Can cause drowsiness and dependence; C-IV = Schedule IV controlled drug with abuse potential."
      },
      {
        brand: "Ativan",
        generic: "Lorazepam",
        category: "Benzodiazepine Â· Schedule IV (C-IV)",
        use: "Treats anxiety and is also used before procedures to calm patients.",
        hint: "Use for short periods; avoid alcohol and driving until effects are known."
      },
      {
        brand: "Valium",
        generic: "Diazepam",
        category: "Benzodiazepine Â· Schedule IV (C-IV)",
        use: "Used for anxiety, muscle spasms, and seizure emergencies.",
        hint: "Long-acting; risk of dependence and drowsinessâ€”take exactly as prescribed."
      },

      // PAIN / NSAIDS / OPIOIDS
      {
        brand: "Tylenol",
        generic: "Acetaminophen (also called paracetamol)",
        category: "Analgesic (pain reliever) and fever reducer",
        use: "Relieves mild to moderate pain and reduces fever.",
        hint: "Do not exceed 3,000â€“4,000 mg per day from all sources to avoid liver damage."
      },
      {
        brand: "Motrin",
        generic: "Ibuprofen",
        category: "Nonsteroidal anti-inflammatory drug (NSAID)",
        use: "Treats pain, fever, and inflammation such as from arthritis or menstrual cramps.",
        hint: "Take with food to protect the stomach; NSAID = nonsteroidal anti-inflammatory drug."
      },
      {
        brand: "Aleve",
        generic: "Naproxen",
        category: "NSAID pain reliever",
        use: "Longer-acting NSAID used for pain and inflammation, especially arthritis.",
        hint: "Take with food and a full glass of water; can increase risk of stomach bleeding and kidney problems."
      },
      {
        brand: "Norco",
        generic: "Hydrocodone and Acetaminophen",
        category: "Opioid pain medicine Â· Schedule II (C-II)",
        use: "Treats moderate to severe pain that does not respond to non-opioid medicines.",
        hint: "C-II = Schedule II controlled substance with high abuse risk; may cause drowsiness, constipation, and dependence."
      },
      {
        brand: "Percocet",
        generic: "Oxycodone and Acetaminophen",
        category: "Opioid pain medicine Â· Schedule II (C-II)",
        use: "Relieves severe pain when other treatments are not enough.",
        hint: "Very strong opioid; avoid alcohol and other sedatives; keep secure from others."
      },

      // ANTIBIOTICS
      {
        brand: "Amoxil",
        generic: "Amoxicillin",
        category: "Penicillin-type antibiotic",
        use: "Treats many bacterial infections such as ear infections, sinus infections, and some respiratory and skin infections.",
        hint: "Finish the full course even if feeling better; common side effect is mild diarrhea."
      },
      {
        brand: "Augmentin",
        generic: "Amoxicillin and Clavulanate",
        category: "Penicillin antibiotic with beta-lactamase inhibitor",
        use: "Treats infections caused by bacteria that make beta-lactamase enzymes, such as some sinus, ear, and skin infections.",
        hint: "Take with food to reduce stomach upset; may cause more diarrhea than amoxicillin alone."
      },
      {
        brand: "Keflex",
        generic: "Cephalexin",
        category: "Cephalosporin antibiotic",
        use: "Treats skin infections, bone infections, and urinary tract infections caused by bacteria.",
        hint: "Cephalosporins are related to penicillins; ask about penicillin allergy."
      },
      {
        brand: "Zithromax",
        generic: "Azithromycin",
        category: "Macrolide antibiotic",
        use: "Treats respiratory infections, some ear infections, and some sexually transmitted infections; often given as a 5-day â€œZ-Pak.â€",
        hint: "Take as directed even if only a few days; may cause stomach upset or diarrhea."
      },
      {
        brand: "Cipro",
        generic: "Ciprofloxacin",
        category: "Fluoroquinolone antibiotic",
        use: "Treats urinary tract infections and certain gastrointestinal and bone infections.",
        hint: "Avoid taking with milk or antacids containing calcium, magnesium, or aluminum; rare risk of tendon rupture."
      },

      // GI / STOMACH
      {
        brand: "Prilosec",
        generic: "Omeprazole",
        category: "Proton pump inhibitor (PPI)",
        use: "Treats heartburn and gastroesophageal reflux disease (GERD), also called acid reflux, by reducing stomach acid.",
        hint: "Take before breakfast; PPI = proton pump inhibitor; long-term use may affect minerals like magnesium."
      },
      {
        brand: "Nexium",
        generic: "Esomeprazole",
        category: "Proton pump inhibitor (PPI)",
        use: "Treats GERD (acid reflux), stomach ulcers, and prevents ulcers from certain medicines.",
        hint: "Usually taken once daily, at least 1 hour before a meal."
      },
      {
        brand: "Pepcid",
        generic: "Famotidine",
        category: "Histamine-2 (H2) blocker",
        use: "Treats and prevents heartburn and stomach ulcers by decreasing stomach acid.",
        hint: "H2 blocker = blocks histamine type-2 receptors in the stomach; available over the counter and by prescription."
      },
      {
        brand: "Zofran",
        generic: "Ondansetron",
        category: "Antiemetic (anti-nausea)",
        use: "Prevents nausea and vomiting, especially from chemotherapy, radiation therapy, or surgery.",
        hint: "Can cause constipation or headache; take exactly as directed by the prescriber."
      }
    ];

    let currentIndex = 0;
    let showingFront = true;

    const cardEl = document.getElementById("card");
    const categoryChipEl = document.getElementById("categoryChip");
    const sideLabelEl = document.getElementById("sideLabel");
    const mainLabelEl = document.getElementById("mainLabel");
    const brandEl = document.getElementById("brand");
    const extraLineEl = document.getElementById("extraLine");
    const hintTextEl = document.getElementById("hintText");
    const indexTextEl = document.getElementById("indexText");
    const sideStatusEl = document.getElementById("sideStatus");
    const countStatusEl = document.getElementById("countStatus");

    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const randomBtn = document.getElementById("randomBtn");
    const flipBtn = document.getElementById("flipBtn");

    countStatusEl.textContent = cards.length.toString();

    function renderCard() {
      const card = cards[currentIndex];
      indexTextEl.textContent = `${currentIndex + 1} / ${cards.length}`;
      categoryChipEl.textContent = card.category;

      if (showingFront) {
        sideLabelEl.textContent = "Front Â· Brand & generic";
        mainLabelEl.textContent = "Brand";
        brandEl.textContent = card.brand;
        extraLineEl.textContent = `Generic name: ${card.generic}`;
        hintTextEl.textContent = "Tap the card or Flip to see full use and safety explanation.";
        sideStatusEl.textContent = "Brand";
      } else {
        sideLabelEl.textContent = "Back Â· Use & safety";
        mainLabelEl.textContent = "Use";
        brandEl.textContent = card.generic;
        extraLineEl.textContent = `Use: ${card.use}  |  Safety note: ${card.hint}`;
        hintTextEl.textContent = "Tap the card or Flip to go back to the brand side.";
        sideStatusEl.textContent = "Detailed explanation";
      }
    }

    function nextCard() {
      currentIndex = (currentIndex + 1) % cards.length;
      showingFront = true;
      renderCard();
    }

    function prevCard() {
      currentIndex = (currentIndex - 1 + cards.length) % cards.length;
      showingFront = true;
      renderCard();
    }

    function randomCard() {
      let newIndex = currentIndex;
      if (cards.length > 1) {
        while (newIndex === currentIndex) {
          newIndex = Math.floor(Math.random() * cards.length);
        }
      }
      currentIndex = newIndex;
      showingFront = true;
      renderCard();
    }

    function flipCard() {
      showingFront = !showingFront;
      renderCard();
    }

    cardEl.addEventListener("click", flipCard);
    flipBtn.addEventListener("click", flipCard);
    nextBtn.addEventListener("click", nextCard);
    prevBtn.addEventListener("click", prevCard);
    randomBtn.addEventListener("click", randomCard);

    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowRight") nextCard();
      else if (e.key === "ArrowLeft") prevCard();
      else if (e.key === " ") {
        e.preventDefault();
        flipCard();
      }
    });

    // Initial render
    renderCard();

    // Register service worker for PWA if available
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("sw.js").catch(() => {});
      });
    }
  </script>
</body>
</html>
